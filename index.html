<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>JP â€“ CELPIP Practice</title>
<style>
:root{
 --bg:#020617;--panel:#0f172a;
 --accent:#38bdf8;--good:#22c55e;--bad:#ef4444;
 --text:#e5e7eb;--muted:#94a3b8;--glow:#60a5fa
}
*{box-sizing:border-box}
body{margin:0;font-family:Segoe UI,Arial,sans-serif;background:radial-gradient(circle at top left,#0ea5e9,#020617 60%);color:var(--text);min-height:100vh;display:flex;justify-content:center;align-items:center}
.app{width:96%;max-width:1500px;background:#020617;border-radius:16px;box-shadow:0 0 40px rgba(56,189,248,.25);display:grid;grid-template-columns:280px 1fr;overflow:hidden}
.sidebar{padding:24px;border-right:1px solid #1f2933}
.logo{font-size:2.2rem;font-weight:900;letter-spacing:4px;color:var(--glow);text-shadow:0 0 10px var(--glow),0 0 25px var(--accent);animation:shine 2.5s infinite alternate}
@keyframes shine{from{text-shadow:0 0 10px var(--glow)}to{text-shadow:0 0 25px var(--accent),0 0 45px var(--glow)}}
.logo-sub{font-size:.85rem;color:var(--muted);margin-bottom:20px}
.nav-item{padding:12px;border-radius:10px;background:var(--panel);border:1px solid #1f2933;font-weight:600}
.main{padding:28px}
.header h1{margin:0;font-size:1.6rem}
.header p{margin:6px 0;color:var(--muted)}
.topbar{display:grid;grid-template-columns:1.5fr .5fr;align-items:flex-start;margin-bottom:12px}
.timer{font-weight:800;color:var(--accent);font-size:1.1rem}
.content{display:grid;grid-template-columns:1.5fr 1fr;gap:24px}
.panel{background:var(--panel);border-radius:14px;border:1px solid #1f2933;padding:22px}
.panel h3{margin-top:0;color:var(--accent)}
#passage{line-height:1.85;font-size:1.05rem}
.question{margin-bottom:16px}
.question label{font-size:.9rem;color:var(--muted)}
input{width:100%;padding:10px;border-radius:8px;background:#020617;border:1px solid #1f2933;color:var(--text)}
input:disabled{opacity:.5}
.correct{border-color:var(--good)}
.wrong{border-color:var(--bad)}
.feedback{font-size:.85rem;margin-top:4px}
button{background:linear-gradient(90deg,#38bdf8,#0ea5e9);border:none;border-radius:8px;padding:10px 18px;font-weight:700;cursor:pointer;color:#020617}
.actions{display:flex;gap:12px;margin-top:8px}
.score{margin-top:12px;color:var(--muted)}
.blink{margin-top:6px;color:var(--good);font-weight:800;animation:blink 1s infinite}
.start-btn{margin-top:8px;padding:10px 24px;border-radius:999px;background:linear-gradient(90deg,#22c55e,#4ade80);color:#022c22;font-weight:900;box-shadow:0 0 18px rgba(34,197,94,.8);animation:pulse 1.4s infinite}
@keyframes blink{0%,50%,100%{opacity:1}25%,75%{opacity:.2}}
@keyframes pulse{0%{box-shadow:0 0 10px rgba(34,197,94,.6)}50%{box-shadow:0 0 26px rgba(34,197,94,1)}100%{box-shadow:0 0 10px rgba(34,197,94,.6)}}
@media(max-width:900px){.app{grid-template-columns:1fr}.content{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="app">
<aside class="sidebar">
  <div class="logo">JP</div>
  <div class="logo-sub">Jerwin Piol<br>CELPIP Practice</div>
  <div class="nav-item">Reading â€“ Exam Mode</div>
</aside>
<main class="main">
  <div class="header">
    <div class="topbar">
      <div>
        <h1>Reading Section</h1>
        <p><strong>Instructions:</strong> Read each passage carefully. You will have a limited amount of time to answer the questions that follow. Select the best answer based on the information provided. Once time is finished, answers are submitted automatically.</p>
      </div>
      <div style="text-align:right">
        <div class="timer" id="timer">03:00</div>
        <button id="startBtn" class="start-btn" onclick="startExam()">Start</button>
      </div>
    </div>
  </div>

  <div class="content">
    <div class="panel">
      <h3 id="readingTitle">Reading Passage 1 / 15</h3>
      <p id="passage"></p>
    </div>

    <div class="panel">
      <h3>Questions</h3>
      <div id="questions"></div>
      <div class="actions"><button onclick="submitPassage()">Submit Passage</button></div>
      <div class="score"><div id="readingScore"></div><div id="bandScore"></div><div id="passMessage" class="blink"></div></div>
      <hr style="border-color:#1f2933;margin:16px 0">
      <h3>Progress History</h3>
      <ul id="history" style="padding-left:18px;font-size:.9rem"></ul>
    </div>
  </div>
</main>
</div>

<script>
const passages = Array.from({length:15},(_,i)=>({
 text:`Passage ${i+1}: Earlier this year, an employee named Alex was assigned to coordinate a multi-department project within a tight deadline. The task required frequent communication, careful scheduling, and attention to detail. Alex consulted with team members, adjusted timelines when unexpected issues arose, and documented progress regularly. Despite initial challenges, the project was completed successfully and received positive feedback from management. The experience highlighted the importance of flexibility, collaboration, and clear communication in professional environments.`,
 qa:[
  {q:'Who was responsible for the project?',a:'alex'},
  {q:'What skills were required to complete the task?',a:'communication'},
  {q:'What challenge did Alex face?',a:'tight deadline'},
  {q:'What was the outcome of the project?',a:'completed successfully'}
 ]
}));

let index=0;
let historyData=[];
let passageTime=180;
let timerInterval;
let examStarted=false;

function shuffle(a){return a.sort(()=>Math.random()-0.5)}

function updateTimer(t){const m=Math.floor(t/60),s=t%60;document.getElementById('timer').textContent=`${m}:${s.toString().padStart(2,'0')}`}

function startTimer(){
 let t=passageTime;
 updateTimer(t);
 timerInterval=setInterval(()=>{
  t--; updateTimer(t);
  if(t<=0){ clearInterval(timerInterval); submitPassage(); }
 },1000);
}

function startExam(){
 examStarted=true;
 document.getElementById('startBtn').style.display='none';
 document.querySelectorAll('#questions input').forEach(i=>i.disabled=false);
 startTimer();
}

function loadPassage(){
 clearInterval(timerInterval);
 examStarted=false;
 document.getElementById('startBtn').style.display='inline-block';
 updateTimer(passageTime);
 document.getElementById('readingTitle').textContent=`Reading Passage ${index+1} / ${passages.length}`;
 document.getElementById('passage').textContent=passages[index].text;
 document.getElementById('readingScore').textContent='';
 document.getElementById('bandScore').textContent='';
 document.getElementById('passMessage').textContent='';
 const qBox=document.getElementById('questions');
 qBox.innerHTML='';
 shuffle([...passages[index].qa]).forEach((it,i)=>{
  qBox.innerHTML+=`<div class='question'><label>${i+1}. ${it.q}</label><input data-ans='${it.a}' disabled><div class='feedback'></div></div>`;
 });
}

function updateHistory(){
 const ul=document.getElementById('history');
 ul.innerHTML='';
 historyData.forEach(h=>{const li=document.createElement('li');li.textContent=`Passage ${h.passage}: Score ${h.score}/4 | Band ${h.band}`;ul.appendChild(li);});
}

function submitPassage(){
 if(!examStarted) return;
 clearInterval(timerInterval);
 let score=0;
 document.querySelectorAll('[data-ans]').forEach(inp=>{
  const ans=inp.dataset.ans,fb=inp.nextElementSibling;
  if(inp.value.toLowerCase().includes(ans)){
    inp.className='correct'; fb.textContent=`âœ” Correct (Answer: ${ans})`; fb.style.color='var(--good)'; score++;
  } else {
    inp.className='wrong'; fb.textContent=`âœ– Incorrect (Correct answer: ${ans})`; fb.style.color='var(--bad)';
  }
 });
 const band=score===4?10:score===3?9:score===2?7:score===1?5:4;
 document.getElementById('readingScore').textContent=`Passage Score: ${score} / 4`;
 document.getElementById('bandScore').textContent=`Estimated Band Score: ${band}`;
 document.getElementById('passMessage').textContent=score>=3?'ðŸŽ‰ Congratulations! You passed this passage.':'';
 historyData.push({passage:index+1,score,band});
 updateHistory();
 setTimeout(()=>{ if(index<passages.length-1){ index++; loadPassage(); } },1500);
}

loadPassage();
</script>
</body>
</html>